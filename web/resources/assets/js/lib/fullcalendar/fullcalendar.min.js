/*

 FullCalendar v1.5.4
 http://arshaw.com/fullcalendar/

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2011 Adam Shaw
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: Tue Sep 4 23:38:33 2012 -0700

*/
(function(h,x){function mb(a,c,b){function e(){setTimeout(function(){!t.start&&0!==h("body")[0].offsetWidth&&f()},0)}function d(a){if(!t||a!=t.name){G++;q();var c=t,b;c?((c.beforeHide||Qa)(),ua(A,A.height()),c.element.hide()):ua(A,1);A.css("overflow","hidden");(t=K[a])?t.element.show():t=K[a]=new da[a](b=O=h("<div class='fc-view fc-view-"+a+"' style='position:absolute'/>").appendTo(A),w);c&&D.deactivateButton(c.name);D.activateButton(a);f();A.css("overflow","");c&&ua(A,1);b||(t.afterShow||Qa)();G--}}
function f(b){if(0!==y.offsetWidth){G++;q();ga===x&&m();var d=!1;!t.start||b||v<t.start||v>=t.end?(t.render(v,b||0),l(!0),d=!0):t.sizeDirty?(t.clearEvents(),l(),d=!0):t.eventsDirty&&(t.clearEvents(),d=!0);t.sizeDirty=!1;t.eventsDirty=!1;b=d;!c.lazyFetching||k(t.visStart,t.visEnd)?j():b&&u();W=a.outerWidth();D.updateTitle(t.title);b=new Date;b>=t.start&&b<t.end?D.disableButton("today"):D.enableButton("today");G--;t.trigger("viewDisplay",y)}}function i(){s();0!==y.offsetWidth&&(m(),l(),q(),t.clearEvents(),
t.renderEvents(B),t.sizeDirty=!1)}function s(){h.each(K,function(a,c){c.sizeDirty=!0})}function m(){ga=c.contentHeight?c.contentHeight:c.height?c.height-(I?I.height():0)-qa(A):Math.round(A.width()/Math.max(c.aspectRatio,0.5))}function l(a){G++;t.setHeight(ga,a);O&&(O.css("position","relative"),O=null);t.setWidth(A.width(),a);G--}function g(){if(!G)if(t.start){var c=++S;setTimeout(function(){if(c==S&&(!G&&0!==y.offsetWidth)&&W!=(W=a.outerWidth()))G++,i(),t.trigger("windowResize",y),G--},200)}else e()}
function j(){n(t.visStart,t.visEnd)}function u(a){Q();0!==y.offsetWidth&&(t.clearEvents(),t.renderEvents(B,a),t.eventsDirty=!1)}function Q(){h.each(K,function(a,c){c.eventsDirty=!0})}function q(){t&&t.unselect()}var w=this;w.options=c;w.render=function(b){A?(m(),s(),Q(),f(b)):(a.addClass("fc"),c.isRTL&&a.addClass("fc-rtl"),c.theme&&a.addClass("ui-widget"),A=h("<div class='fc-content' style='position:relative'/>").prependTo(a),D=new nb(w,c),(I=D.render())&&a.prepend(I),d(c.defaultView),h(window).resize(g),
0!==h("body")[0].offsetWidth||e())};w.destroy=function(){h(window).unbind("resize",g);D.destroy();A.remove();a.removeClass("fc fc-rtl ui-widget")};w.refetchEvents=j;w.reportEvents=function(a){B=a;u()};w.reportEventChange=function(a){u(a)};w.rerenderEvents=u;w.changeView=d;w.select=function(a,c,b){t.select(a,c,b===x?!0:b)};w.unselect=q;w.prev=function(){f(-1)};w.next=function(){f(1)};w.prevYear=function(){ya(v,-1);f()};w.nextYear=function(){ya(v,1);f()};w.today=function(){v=new Date;f()};w.gotoDate=
function(a,c,b){a instanceof Date?v=p(a):Ra(v,a,c,b);f()};w.incrementDate=function(a,c,b){a!==x&&ya(v,a);c!==x&&za(v,c);b!==x&&r(v,b);f()};w.formatDate=function(a,b){return ea(a,b,c)};w.formatDates=function(a,b,d){return Aa(a,b,d,c)};w.getDate=function(){return p(v)};w.getView=function(){return t};w.option=function(a,b){if(b===x)return c[a];if("height"==a||"contentHeight"==a||"aspectRatio"==a)c[a]=b,i()};w.trigger=function(a,b){if(c[a])return c[a].apply(b||y,Array.prototype.slice.call(arguments,2))};
ob.call(w,c,b);var k=w.isFetchNeeded,n=w.fetchEvents,y=a[0],D,I,A,t,K={},W,ga,O,S=0,G=0,v=new Date,B=[],E;Ra(v,c.year,c.month,c.date);c.droppable&&h(document).bind("dragstart",function(a,b){var d=a.target,D=h(d);if(!D.parents(".fc").length){var e=c.dropAccept;if(h.isFunction(e)?e.call(d,D):D.is(e))E=d,t.dragStart(E,a,b)}}).bind("dragstop",function(a,c){E&&(t.dragStop(E,a,c),E=null)})}function nb(a,c){function b(b){var e=h("<div class='fc-header-"+b+"'/>");(b=c.header[b])&&h.each(b.split(" "),function(b){0<
b&&e.append("<span class='fc-header-space'/>");var f;h.each(this.split(","),function(b,g){if("title"==g)e.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),f&&f.addClass(d+"-corner-right"),f=null;else{var s;a[g]?s=a[g]:da[g]&&(s=function(){q.removeClass(d+"-state-hover");a.changeView(g)});if(s){var p=c.theme?Ba(c.buttonIcons,g):null,r=Ba(c.buttonText,g),q=h("<span class='fc-button fc-button-"+g+" "+d+"-state-default'><span class='fc-button-content'>"+(p?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+
p+"'/></span>":r)+"</span></span>");q&&(q.click(function(){q.hasClass(d+"-state-disabled")||s()}).mousedown(function(){q.not("."+d+"-state-active").not("."+d+"-state-disabled").addClass(d+"-state-down")}).mouseup(function(){q.removeClass(d+"-state-down")}).hover(function(){q.not("."+d+"-state-active").not("."+d+"-state-disabled").addClass(d+"-state-hover")},function(){q.removeClass(d+"-state-hover").removeClass(d+"-state-down")}).appendTo(e),f||q.addClass(d+"-corner-left"),f=q)}}});f&&f.addClass(d+
"-corner-right")});return e}this.render=function(){d=c.theme?"ui":"fc";if(c.header)return e=h("<div class='fc-header' style='width:100%'/>").append(b("left")).append(b("center")).append(b("right"))};this.destroy=function(){e.remove()};this.updateTitle=function(a){e.find("h2").html(a)};this.activateButton=function(a){e.find("span.fc-button-"+a).addClass(d+"-state-active")};this.deactivateButton=function(a){e.find("span.fc-button-"+a).removeClass(d+"-state-active")};this.disableButton=function(a){e.find("span.fc-button-"+
a).addClass(d+"-state-disabled")};this.enableButton=function(a){e.find("span.fc-button-"+a).removeClass(d+"-state-disabled")};var e=h([]),d}function ob(a,c){function b(a,c){e(a,function(b){if(c==q){if(b){for(var d=0;d<b.length;d++)b[d].source=a,f(b[d]);n=n.concat(b)}w--;w||l(n)}})}function e(b,c){var d,f=J.sourceFetchers,g;for(d=0;d<f.length;d++){g=f[d](b,r,Q,c);if(!0===g)return;if("object"==typeof g){e(g,c);return}}if(d=b.events)h.isFunction(d)?(k++||s("loading",null,!0),d(p(r),p(Q),function(a){c(a);
--k||s("loading",null,!1)})):h.isArray(d)?c(d):c();else if(b.url){var i=b.success,m=b.error,l=b.complete;d=h.extend({},b.data||{});f=ha(b.startParam,a.startParam);g=ha(b.endParam,a.endParam);f&&(d[f]=Math.round(+r/1E3));g&&(d[g]=Math.round(+Q/1E3));k++||s("loading",null,!0);h.ajax(h.extend({},pb,b,{data:d,success:function(a){var a=a||[],b=va(i,this,arguments);h.isArray(b)&&(a=b);c(a)},error:function(){va(m,this,arguments);c()},complete:function(){va(l,this,arguments);--k||s("loading",null,!1)}}))}else c()}
function d(a){h.isFunction(a)||h.isArray(a)?a={events:a}:"string"==typeof a&&(a={url:a});if("object"==typeof a){var b=a;b.className?"string"==typeof b.className&&(b.className=b.className.split(/\s+/)):b.className=[];for(var c=J.sourceNormalizers,d=0;d<c.length;d++)c[d](b);j.push(a);return a}}function f(b){var c=b.source||{},d=ha(c.ignoreTimezone,a.ignoreTimezone);b._id=b._id||(b.id===x?"_fc"+qb++:b.id+"");b.date&&(b.start||(b.start=b.date),delete b.date);b._start=p(b.start=Ca(b.start,d));b.end=Ca(b.end,
d);b.end&&b.end<=b.start&&(b.end=null);b._end=b.end?p(b.end):null;b.allDay===x&&(b.allDay=ha(c.allDayDefault,a.allDayDefault));b.className?"string"==typeof b.className&&(b.className=b.className.split(/\s+/)):b.className=[]}function i(a){return("object"==typeof a?a.events||a.url:"")||a}this.isFetchNeeded=function(a,b){return!r||a<r||b>Q};this.fetchEvents=function(a,c){r=a;Q=c;n=[];var d=++q,e=j.length;w=e;for(var f=0;f<e;f++)b(j[f],d)};this.addEventSource=function(a){if(a=d(a))w++,b(a,q)};this.removeEventSource=
function(a){j=h.grep(j,function(b){return!(b&&a&&i(b)==i(a))});n=h.grep(n,function(b){return!(b.source&&a&&i(b.source)==i(a))});l(n)};this.updateEvent=function(a){var b,c=n.length,d,e=m().defaultEventEnd,g=a.start-a._start,i=a.end?a.end-(a._end||e(a)):0;for(b=0;b<c;b++)d=n[b],d._id==a._id&&d!=a&&(d.start=new Date(+d.start+g),d.end=a.end?d.end?new Date(+d.end+i):new Date(+e(d)+i):null,d.title=a.title,d.url=a.url,d.allDay=a.allDay,d.className=a.className,d.editable=a.editable,d.color=a.color,d.backgroudColor=
a.backgroudColor,d.borderColor=a.borderColor,d.textColor=a.textColor,f(d));f(a);l(n)};this.renderEvent=function(a,b){f(a);a.source||(b&&(g.events.push(a),a.source=g),n.push(a));l(n)};this.removeEvents=function(a){if(a){if(!h.isFunction(a))var b=a+"",a=function(a){return a._id==b};n=h.grep(n,a,!0);for(c=0;c<j.length;c++)h.isArray(j[c].events)&&(j[c].events=h.grep(j[c].events,a,!0))}else{n=[];for(var c=0;c<j.length;c++)h.isArray(j[c].events)&&(j[c].events=[])}l(n)};this.clientEvents=function(a){return h.isFunction(a)?
h.grep(n,a):a?(a+="",h.grep(n,function(b){return b._id==a})):n};this.normalizeEvent=f;for(var s=this.trigger,m=this.getView,l=this.reportEvents,g={events:[]},j=[g],r,Q,q=0,w=0,k=0,n=[],y=0;y<c.length;y++)d(c[y])}function ya(a,c,b){a.setFullYear(a.getFullYear()+c);b||ka(a);return a}function za(a,c,b){if(+a){var c=a.getMonth()+c,e=p(a);e.setDate(1);e.setMonth(c);a.setMonth(c);for(b||ka(a);a.getMonth()!=e.getMonth();)a.setDate(a.getDate()+(a<e?1:-1))}return a}function r(a,c,b){if(+a){var c=a.getDate()+
c,e=p(a);e.setHours(9);e.setDate(c);a.setDate(c);b||ka(a);Da(a,e)}return a}function Da(a,c){if(+a)for(;a.getDate()!=c.getDate();)a.setTime(+a+(a<c?1:-1)*rb)}function F(a,c){a.setMinutes(a.getMinutes()+c);return a}function ka(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function p(a,c){return c?ka(new Date(+a)):new Date(+a)}function Sa(){var a=0,c;do c=new Date(1970,a++,1);while(c.getHours());return c}function R(a,c,b){for(c=c||1;!a.getDay()||b&&1==a.getDay()||!b&&
6==a.getDay();)r(a,c);return a}function aa(a,c){return Math.round((p(a,!0)-p(c,!0))/Ta)}function Ra(a,c,b,e){c!==x&&c!=a.getFullYear()&&(a.setDate(1),a.setMonth(0),a.setFullYear(c));b!==x&&b!=a.getMonth()&&(a.setDate(1),a.setMonth(b));e!==x&&a.setDate(e)}function Ca(a,c){if("object"==typeof a)return a;if("number"==typeof a)return new Date(1E3*a);if("string"==typeof a){if(a.match(/^\d+(\.\d+)?$/))return new Date(1E3*parseFloat(a));c===x&&(c=!0);return Ua(a,c)||(a?new Date(a):null)}return null}function Ua(a,
c){var b=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!b)return null;var e=new Date(b[1],0,1);if(c||!b[13]){var d=new Date(b[1],0,1,9,0);b[3]&&(e.setMonth(b[3]-1),d.setMonth(b[3]-1));b[5]&&(e.setDate(b[5]),d.setDate(b[5]));Da(e,d);b[7]&&e.setHours(b[7]);b[8]&&e.setMinutes(b[8]);b[10]&&e.setSeconds(b[10]);b[12]&&e.setMilliseconds(1E3*Number("0."+b[12]));Da(e,d)}else e.setUTCFullYear(b[1],b[3]?b[3]-
1:0,b[5]||1),e.setUTCHours(b[7]||0,b[8]||0,b[10]||0,b[12]?1E3*Number("0."+b[12]):0),b[14]&&(d=60*Number(b[16])+(b[18]?Number(b[18]):0),d*="-"==b[15]?1:-1,e=new Date(+e+6E4*d));return e}function Ea(a){if("number"==typeof a)return 60*a;if("object"==typeof a)return 60*a.getHours()+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var c=parseInt(a[1],10);a[3]&&(c%=12,"p"==a[3].toLowerCase().charAt(0)&&(c+=12));return 60*c+(a[2]?parseInt(a[2],10):0)}}function ea(a,c,b){return Aa(a,null,c,b)}function Aa(a,
c,b,e){var e=e||ra,d=a,f=c,i,h=b.length,m,l,g,j="";for(i=0;i<h;i++)if(m=b.charAt(i),"'"==m)for(l=i+1;l<h;l++){if("'"==b.charAt(l)){d&&(j=l==i+1?j+"'":j+b.substring(i+1,l),i=l);break}}else if("("==m)for(l=i+1;l<h;l++){if(")"==b.charAt(l)){i=ea(d,b.substring(i+1,l),e);parseInt(i.replace(/\D/,""),10)&&(j+=i);i=l;break}}else if("["==m)for(l=i+1;l<h;l++){if("]"==b.charAt(l)){m=b.substring(i+1,l);i=ea(d,m,e);i!=ea(f,m,e)&&(j+=i);i=l;break}}else if("{"==m)d=c,f=a;else if("}"==m)d=a,f=c;else{for(l=h;l>i;l--)if(g=
sb[b.substring(i,l)]){d&&(j+=g(d,e));i=l-1;break}l==i&&d&&(j+=m)}return j}function sa(a){if(a.end){var c=a.end,a=a.allDay,c=p(c);return a||c.getHours()||c.getMinutes()?r(c,1):ka(c)}return r(p(a.start),1)}function tb(a,c){return 100*(c.msLength-a.msLength)+(a.event.start-c.event.start)}function Fa(a,c,b,e){var d=[],f,i=a.length,h,m,l,g,j;for(f=0;f<i;f++)h=a[f],m=h.start,l=c[f],l>b&&m<e&&(m<b?(m=p(b),g=!1):g=!0,l>e?(l=p(e),j=!1):j=!0,d.push({event:h,start:m,end:l,isStart:g,isEnd:j,msLength:l-m}));return d.sort(tb)}
function Ga(a){var c=[],b,e=a.length,d,f,i,h;for(b=0;b<e;b++){d=a[b];for(f=0;;){i=!1;if(c[f])for(h=0;h<c[f].length;h++)if(c[f][h].end>d.start&&c[f][h].start<d.end){i=!0;break}if(i)f++;else break}c[f]?c[f].push(d):c[f]=[d]}return c}function Va(a,c,b){a.unbind("mouseover").mouseover(function(a){for(var d=a.target,f;d!=this;)f=d,d=d.parentNode;if((d=f._fci)!==x)f._fci=x,f=c[d],b(f.event,f.element,f),h(a.target).trigger(a);a.stopPropagation()})}function ta(a,c,b){for(var e=0,d;e<a.length;e++)d=h(a[e]),
d.width(Math.max(0,c-(Ha(d)+Ia(d)+(b?Ja(d):0))))}function Wa(a,c,b){for(var e=0,d;e<a.length;e++)d=h(a[e]),d.height(Math.max(0,c-qa(d,b)))}function Ha(a){return(parseFloat(h.css(a[0],"paddingLeft",!0))||0)+(parseFloat(h.css(a[0],"paddingRight",!0))||0)}function Ja(a){return(parseFloat(h.css(a[0],"marginLeft",!0))||0)+(parseFloat(h.css(a[0],"marginRight",!0))||0)}function Ia(a){return(parseFloat(h.css(a[0],"borderLeftWidth",!0))||0)+(parseFloat(h.css(a[0],"borderRightWidth",!0))||0)}function qa(a,
c){return(parseFloat(h.css(a[0],"paddingTop",!0))||0)+(parseFloat(h.css(a[0],"paddingBottom",!0))||0)+((parseFloat(h.css(a[0],"borderTopWidth",!0))||0)+(parseFloat(h.css(a[0],"borderBottomWidth",!0))||0))+(c?Xa(a):0)}function Xa(a){return(parseFloat(h.css(a[0],"marginTop",!0))||0)+(parseFloat(h.css(a[0],"marginBottom",!0))||0)}function ua(a,c){c="number"==typeof c?c+"px":c;a.each(function(a,e){e.style.cssText+=";min-height:"+c+";_height:"+c})}function Qa(){}function Ya(a,c){return a-c}function fa(a){return(10>
a?"0":"")+a}function Ba(a,c){if(a[c]!==x)return a[c];for(var b=c.split(/(?=[A-Z])/),e=b.length-1,d;0<=e;e--)if(d=a[b[e].toLowerCase()],d!==x)return d;return a[""]}function X(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Za(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function Ka(a){a.attr("unselectable","on").css("MozUserSelect",
"none").bind("selectstart.ui",function(){return!1})}function wa(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function La(a,c){a.each(function(a,e){e.className=e.className.replace(/^fc-\w*/,"fc-"+ub[c.getDay()])})}function $a(a,c){var b=a.source||{},e=a.color,d=b.color,f=c("eventColor"),i=a.backgroundColor||e||b.backgroundColor||d||c("eventBackgroundColor")||f,e=a.borderColor||e||b.borderColor||d||c("eventBorderColor")||
f,b=a.textColor||b.textColor||c("eventTextColor"),d=[];i&&d.push("background-color:"+i);e&&d.push("border-color:"+e);b&&d.push("color:"+b);return d.join(";")}function va(a,c,b){h.isFunction(a)&&(a=[a]);if(a){var e,d;for(e=0;e<a.length;e++)d=a[e].apply(c,b)||d;return d}}function ha(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==x)return arguments[a]}function Ma(a,c,b){function e(a){if(!j("selectable")){var b=parseInt(this.className.match(/fc\-day(\d+)/)[1]),b=m(b);u("dayClick",this,b,!0,a)}}
function d(a,b,c){c&&E.build();for(var c=p(g.visStart),d=r(p(c),B),i=0;i<v;i++){var h=new Date(Math.max(c,a)),V=new Date(Math.min(d,b));if(h<V){var P;H?(P=aa(V,c)*z+T+1,h=aa(h,c)*z+T+1):(P=aa(h,c),h=aa(V,c));f(i,P,i,h-1).click(e).mousedown(k)}r(c,7);r(d,7)}}function f(b,c,d,e){b=E.rect(b,c,d,e,a);return q(b,a)}function i(a){return{row:Math.floor(aa(a,g.visStart)/7),col:l(a.getDay())}}function s(a){return r(p(g.visStart),7*a.row+a.col*z+T)}function m(a){return r(p(g.visStart),7*Math.floor(a/B)+a%B*
z+T)}function l(a){return(a-Math.max(M,V)+B)%B*z+T}var g=this;g.renderBasic=function(b,c,d,f){v=c;B=d;(H=j("isRTL"))?(z=-1,T=B-1):(z=1,T=0);M=j("firstDay");V=j("weekends")?0:1;P=j("theme")?"ui":"fc";ba=j("columnFormat");if(c=!I){var i=P+"-widget-header",l=P+"-widget-content",s,d="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(s=0;s<B;s++)d+="<th class='fc- "+i+"'/>";d+="</tr></thead><tbody>";for(s=0;s<b;s++){d+="<tr class='fc-week"+s+"'>";for(i=0;i<B;i++)d+=
"<td class='fc- "+l+" fc-day"+(s*B+i)+"'><div>"+(f?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";d+="</tr>"}b=h(d+"</tbody></table>").appendTo(a);y=b.find("thead");D=y.find("th");I=b.find("tbody");A=I.find("tr");t=I.find("td");K=t.filter(":first-child");W=A.eq(0).find("div.fc-day-content div");wa(y.add(y.find("tr")));wa(A);A.eq(0).addClass("fc-first");t.click(e).mousedown(k);ga=h("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}else x();
var p=c||1==v,N=g.start.getMonth(),w=ka(new Date),r,q,u;p&&D.each(function(a,b){r=h(b);q=m(a);r.html(n(q,ba));La(r,q)});t.each(function(a,b){r=h(b);q=m(a);q.getMonth()==N?r.removeClass("fc-other-month"):r.addClass("fc-other-month");+q==+w?r.addClass(P+"-state-highlight fc-today"):r.removeClass(P+"-state-highlight fc-today");r.find("div.fc-day-number").text(q.getDate());p&&La(r,q)});A.each(function(a,b){u=h(b);a<v?(u.show(),a==v-1?u.addClass("fc-last"):u.removeClass("fc-last")):u.hide()})};g.setHeight=
function(a){S=a;var a=S-y.height(),b,c,d;"variable"==j("weekMode")?b=c=Math.floor(a/(1==v?2:6)):(b=Math.floor(a/v),c=a-b*(v-1));K.each(function(a,e){a<v&&(d=h(e),ua(d.find("> div"),(a==v-1?c:b)-qa(d)))})};g.setWidth=function(a){O=a;N.clear();G=Math.floor(O/B);ta(D.slice(0,-1),G)};g.renderDayOverlay=d;g.defaultSelectionEnd=function(a){return p(a)};g.renderSelection=function(a,b){d(a,r(p(b),1),!0)};g.clearSelection=function(){w()};g.reportDayClick=function(a,b,c){var d=i(a);u("dayClick",t[d.row*B+d.col],
a,b,c)};g.dragStart=function(a,b){F.start(function(a){w();a&&f(a.row,a.col,a.row,a.col)},b)};g.dragStop=function(a,b,c){var d=F.stop();w();d&&(d=s(d),u("drop",a,d,!0,b,c))};g.defaultEventEnd=function(a){return p(a.start)};g.getHoverListener=function(){return F};g.colContentLeft=function(a){return N.left(a)};g.colContentRight=function(a){return N.right(a)};g.dayOfWeekCol=l;g.dateCell=i;g.cellDate=s;g.cellIsAllDay=function(){return!0};g.allDayRow=function(a){return A.eq(a)};g.allDayBounds=function(){return{left:0,
right:O}};g.getRowCnt=function(){return v};g.getColCnt=function(){return B};g.getColWidth=function(){return G};g.getDaySegmentContainer=function(){return ga};eb.call(g,a,c,b);fb.call(g);gb.call(g);vb.call(g);var j=g.opt,u=g.trigger,x=g.clearEvents,q=g.renderOverlay,w=g.clearOverlays,k=g.daySelectionMousedown,n=c.formatDate,y,D,I,A,t,K,W,ga,O,S,G,v,B,E,F,N,H,z,T,M,V,P,ba;Ka(a.addClass("fc-grid"));E=new hb(function(a,b){var c,d,e;D.each(function(a,f){c=h(f);d=c.offset().left;a&&(e[1]=d);e=[d];b[a]=
e});e[1]=d+c.outerWidth();A.each(function(b,f){b<v&&(c=h(f),d=c.offset().top,b&&(e[1]=d),e=[d],a[b]=e)});e[1]=d+c.outerHeight()});F=new ib(E);N=new jb(function(a){return W.eq(a)})}function vb(){function a(a){var b=k(),d=n(),e=p(c.visStart),d=r(p(e),d),f=h.map(a,sa),i,g,m,l,s,j,y=[];for(i=0;i<b;i++){g=Ga(Fa(a,f,e,d));for(m=0;m<g.length;m++){l=g[m];for(s=0;s<l.length;s++)j=l[s],j.row=i,j.level=m,y.push(j)}r(e,7);r(d,7)}return y}var c=this;c.renderEvents=function(b,c){i(b);y(a(b),c)};c.compileDaySegs=
a;c.clearEvents=function(){s();u().empty()};c.bindDaySeg=function(a,c,i){if(d(a)){var h=x(),s;c.draggable({zIndex:9,delay:50,opacity:b("dragOpacity"),revertDuration:b("dragRevertDuration"),start:function(d,f){e("eventDragStart",c,a,d,f);g(a,c);h.start(function(d,e,f,i){c.draggable("option","revert",!d||!f&&!i);w();d?(s=7*f+i*(b("isRTL")?-1:1),q(r(p(a.start),s),r(sa(a),s))):s=0},d,"drag")},stop:function(b,d){h.stop();w();e("eventDragStop",c,a,b,d);s?j(this,a,s,0,a.allDay,b,d):(c.css("filter",""),l(a,
c))}})}i.isEnd&&f(a)&&D(a,c,i);m(a,c)};kb.call(c);var b=c.opt,e=c.trigger,d=c.isEventDraggable,f=c.isEventResizable,i=c.reportEvents,s=c.reportEventClear,m=c.eventElementHandlers,l=c.showEvents,g=c.hideEvents,j=c.eventDrop,u=c.getDaySegmentContainer,x=c.getHoverListener,q=c.renderDayOverlay,w=c.clearOverlays,k=c.getRowCnt,n=c.getColCnt,y=c.renderDaySegs,D=c.resizableDayEvent}function lb(a,c,b){function e(a){if(!n("selectable")){var b=Math.min(L-1,Math.floor((a.pageX-S.offset().left-Y)/xa)),c=m(b),
d=this.parentNode.className.match(/fc-slot(\d+)/);d?(d=parseInt(d[1])*n("slotMinutes"),c.setHours(Math.floor(d/60)),c.setMinutes(d%60+ma),y("dayClick",E[b],c,!1,a)):y("dayClick",E[b],c,!0,a)}}function d(a,b,c){c&&Z.build();var d=p(k.visStart);fa?(c=aa(b,d)*ia+ja+1,a=aa(a,d)*ia+ja+1):(c=aa(a,d),a=aa(b,d));c=Math.max(0,c);a=Math.min(L,a);c<a&&f(0,c,0,a-1).click(e).mousedown(W)}function f(a,b,c,d){a=Z.rect(a,b,c,d,z);return I(a,z)}function i(a,b){for(var c=p(k.visStart),d=r(p(c),1),f=0;f<L;f++){var i=
new Date(Math.max(c,a)),g=new Date(Math.min(d,b));if(i<g){var h=f*ia+ja,h=Z.rect(0,h,0,h,ba),i=j(c,i),g=j(c,g);h.top=i;h.height=g-i;I(h,ba).click(e).mousedown(q)}r(c,1);r(d,1)}}function s(a){var b=m(a.col),a=a.row;n("allDaySlot")&&a--;0<=a&&F(b,ma+a*n("slotMinutes"));return b}function m(a){return r(p(k.visStart),a*ia+ja)}function l(a){return n("allDaySlot")&&!a.row}function g(a){return(a-Math.max(da,ea)+L)%L*ia+ja}function j(a,b){a=p(a,!0);if(b<F(p(a),ma))return 0;if(b>=F(p(a),X))return la.height();
var c=n("slotMinutes"),d=60*b.getHours()+b.getMinutes()-ma,e=Math.floor(d/c),f=Pa[e];f===x&&(f=Pa[e]=la.find("tr:eq("+e+") td div")[0].offsetTop);return Math.max(0,Math.round(f-1+U*(d%c/c)))}function u(a,b){var c=n("selectHelper");Z.build();if(c){var d=aa(a,k.visStart)*ia+ja;if(0<=d&&d<L){var d=Z.rect(0,d,0,d,ba),f=j(a,a),g=j(a,b);if(g>f){d.top=f;d.height=g-f;d.left+=2;d.width-=5;if(h.isFunction(c)){if(c=c(a,b))d.position="absolute",d.zIndex=8,ca=h(c).css(d).appendTo(ba)}else d.isStart=!0,d.isEnd=
!0,ca=h(ga({title:"",start:a,end:b,className:["fc-select-helper"],editable:!1},d)),ca.css("opacity",n("dragOpacity"));ca&&(ca.click(e).mousedown(q),ba.append(ca),ta(ca,d.width,!0),Wa(ca,d.height,!0))}}}else i(a,b)}function Q(){A();ca&&(ca.remove(),ca=null)}function q(a){if(1==a.which&&n("selectable")){K(a);var b;pa.start(function(a,c){Q();if(a&&a.col==c.col&&!l(a)){var d=s(c),e=s(a);b=[d,F(p(d),n("slotMinutes")),e,F(p(e),n("slotMinutes"))].sort(Ya);u(b[0],b[3])}else b=null},a);h(document).one("mouseup",
function(a){pa.stop();b&&(+b[0]==+b[1]&&w(b[0],!1,a),t(b[0],b[3],!1,a))})}}function w(a,b,c){y("dayClick",E[g(a.getDay())],a,b,c)}var k=this;k.renderAgenda=function(b){L=b;R=n("theme")?"ui":"fc";ea=n("weekends")?0:1;da=n("firstDay");(fa=n("isRTL"))?(ia=-1,ja=L-1):(ia=1,ja=0);ma=Ea(n("minTime"));X=Ea(n("maxTime"));ha=n("columnFormat");if(S)D();else{var b=R+"-widget-header",c=R+"-widget-content",d,f,i,g,l,s=0==n("slotMinutes")%15;d="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+
b+"'>&nbsp;</th>";for(f=0;f<L;f++)d+="<th class='fc- fc-col"+f+" "+b+"'/>";d+="<th class='fc-agenda-gutter "+b+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+b+"'>&nbsp;</th>";for(f=0;f<L;f++)d+="<td class='fc- fc-col"+f+" "+c+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";S=h(d+("<td class='fc-agenda-gutter "+c+"'>&nbsp;</td></tr></tbody></table>")).appendTo(a);G=S.find("thead");v=G.find("th").slice(1,-1);B=S.find("tbody");E=B.find("td").slice(0,
-1);J=E.find("div.fc-day-content div");N=E.eq(0);H=N.find("> div");wa(G.add(G.find("tr")));wa(B.add(B.find("tr")));na=G.find("th:first");oa=S.find(".fc-agenda-gutter");z=h("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(a);n("allDaySlot")?(T=h("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(z),d="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+b+" fc-agenda-axis'>"+n("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+
b+" fc-agenda-gutter'>&nbsp;</th></tr></table>",M=h(d).appendTo(z),V=M.find("tr"),V.find("td").click(e).mousedown(W),na=na.add(M.find("th:first")),oa=oa.add(M.find("th.fc-agenda-gutter")),z.append("<div class='fc-agenda-divider "+b+"'><div class='fc-agenda-divider-inner'/></div>")):T=h([]);P=h("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(z);ba=h("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(P);ab=h("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ba);
d="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";i=Sa();g=F(p(i),X);F(i,ma);for(f=Oa=0;i<g;f++)l=i.getMinutes(),d+="<tr class='fc-slot"+f+" "+(!l?"":"fc-minor")+"'><th class='fc-agenda-axis "+b+"'>"+(!s||!l?O(i,n("axisFormat")):"&nbsp;")+"</th><td class='"+c+"'><div style='position:relative'>&nbsp;</div></td></tr>",F(i,n("slotMinutes")),Oa++;d+="</tbody></table>";la=h(d).appendTo(ba);bb=la.find("div:first");la.find("td").click(e).mousedown(q);na=na.add(la.find("th:first"))}i=
ka(new Date);for(b=0;b<L;b++)f=m(b),c=v.eq(b),c.html(O(f,ha)),d=E.eq(b),+f==+i?d.addClass(R+"-state-highlight fc-today"):d.removeClass(R+"-state-highlight fc-today"),La(c.add(d),f)};k.setWidth=function(a){cb=a;$.clear();Y=0;ta(na.width("").each(function(a,b){Y=Math.max(Y,h(b).outerWidth())}),Y);a=P[0].clientWidth;(Na=P.width()-a)?(ta(oa,Na),oa.show().prev().removeClass("fc-last")):oa.hide().prev().addClass("fc-last");xa=Math.floor((a-Y)/L);ta(v.slice(0,-1),xa)};k.setHeight=function(a,b){a===x&&(a=
C);C=a;Pa={};var c=B.position().top,d=P.position().top,e=Math.min(a-c,la.height()+d+1);H.height(e-qa(N));z.css("top",c);P.height(e-d-1);U=bb.height()+1;if(b){c=function(){P.scrollTop(f)};d=Sa();e=p(d);e.setHours(n("firstHour"));var f=j(d,e)+1;c();setTimeout(c,0)}};k.beforeHide=function(){db=P.scrollTop()};k.afterShow=function(){P.scrollTop(db)};k.defaultEventEnd=function(a){var b=p(a.start);return a.allDay?b:F(b,n("defaultEventMinutes"))};k.timePosition=j;k.dayOfWeekCol=g;k.dateCell=function(a){return{row:Math.floor(aa(a,
k.visStart)/7),col:g(a.getDay())}};k.cellDate=s;k.cellIsAllDay=l;k.allDayRow=function(){return V};k.allDayBounds=function(){return{left:Y,right:cb-Na}};k.getHoverListener=function(){return pa};k.colContentLeft=function(a){return $.left(a)};k.colContentRight=function(a){return $.right(a)};k.getDaySegmentContainer=function(){return T};k.getSlotSegmentContainer=function(){return ab};k.getMinMinute=function(){return ma};k.getMaxMinute=function(){return X};k.getBodyContent=function(){return ba};k.getRowCnt=
function(){return 1};k.getColCnt=function(){return L};k.getColWidth=function(){return xa};k.getSlotHeight=function(){return U};k.defaultSelectionEnd=function(a,b){return b?p(a):F(p(a),n("slotMinutes"))};k.renderDayOverlay=d;k.renderSelection=function(a,b,c){c?n("allDaySlot")&&d(a,r(p(b),1),!0):u(a,b)};k.clearSelection=Q;k.reportDayClick=w;k.dragStart=function(a,b){pa.start(function(a){A();if(a)if(l(a))f(a.row,a.col,a.row,a.col);else{var a=s(a),b=F(p(a),n("defaultEventMinutes"));i(a,b)}},b)};k.dragStop=
function(a,b,c){var d=pa.stop();A();d&&y("drop",a,s(d),l(d),b,c)};eb.call(k,a,c,b);fb.call(k);gb.call(k);wb.call(k);var n=k.opt,y=k.trigger,D=k.clearEvents,I=k.renderOverlay,A=k.clearOverlays,t=k.reportSelection,K=k.unselect,W=k.daySelectionMousedown,ga=k.slotSegHtml,O=c.formatDate,S,G,v,B,E,J,N,H,z,T,M,V,P,ba,ab,la,bb,na,oa,ca,cb,C,Y,xa,Na,U,db,L,Oa,Z,pa,$,Pa={},R,da,ea,fa,ia,ja,ma,X,ha;Ka(a.addClass("fc-agenda"));Z=new hb(function(a,b){var c,d,e;v.each(function(a,f){c=h(f);d=c.offset().left;a&&
(e[1]=d);e=[d];b[a]=e});e[1]=d+c.outerWidth();n("allDaySlot")&&(c=V,d=c.offset().top,a[0]=[d,d+c.outerHeight()]);for(var f=ba.offset().top,i=P.offset().top,g=i+P.outerHeight(),l=0;l<Oa;l++)a.push([Math.max(i,Math.min(g,f+U*l)),Math.max(i,Math.min(g,f+U*(l+1)))])});pa=new ib(Z);$=new jb(function(a){return J.eq(a)})}function wb(){function a(a){var a=Ga(Fa(a,h.map(a,sa),d.visStart,d.visEnd)),b,c=a.length,e,f,i,g=[];for(b=0;b<c;b++){e=a[b];for(f=0;f<e.length;f++)i=e[f],i.row=0,i.level=b,g.push(i)}return g}
function c(a){return a.end?p(a.end):F(p(a.start),f("defaultEventMinutes"))}function b(a,b){var c="<",d=a.url,e=$a(a,f),i=e?" style='"+e+"'":"",g=["fc-event","fc-event-skin","fc-event-vert"];s(a)&&g.push("fc-event-draggable");b.isStart&&g.push("fc-corner-top");b.isEnd&&g.push("fc-corner-bottom");g=g.concat(a.className);a.source&&(g=g.concat(a.source.className||[]));c=d?c+("a href='"+X(a.url)+"'"):c+"div";c+=" class='"+g.join(" ")+"' style='position:absolute;z-index:8;top:"+b.top+"px;left:"+b.left+
"px;"+e+"'><div class='fc-event-inner fc-event-skin'"+i+"><div class='fc-event-head fc-event-skin'"+i+"><div class='fc-event-time'>"+X(M(a.start,a.end,f("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+X(a.title)+"</div></div><div class='fc-event-bg'></div></div>";b.isEnd&&m(a)&&(c+="<div class='ui-resizable-handle ui-resizable-s'>=</div>");return c+("</"+(d?"a":"div")+">")}function e(a,b,c){var d=b.find("div.fc-event-time");if(s(a)){var e=function(b){var c=
F(p(a.start),b),e;a.end&&(e=F(p(a.end),b));d.text(M(c,e,f("timeFormat")))},g=function(){j&&(d.css("display",""),b.draggable("option","grid",[A,z]),j=!1)},h,j=!1,y,t,D,n=f("isRTL")?-1:1,q=k(),w=W(),A=J(),z=O();b.draggable({zIndex:9,scroll:!1,grid:[A,z],axis:1==w?"y":!1,opacity:f("dragOpacity"),revertDuration:f("dragRevertDuration"),start:function(c,e){i("eventDragStart",b,a,c,e);B(a,b);h=b.position();t=D=0;q.start(function(c,e,i,h){b.draggable("option","revert",!c);H();c&&(y=h*n,f("allDaySlot")&&!c.row?
(j||(j=!0,d.hide(),b.draggable("option","grid",null)),N(r(p(a.start),y),r(sa(a),y))):g())},c,"drag")},drag:function(a,b){t=Math.round((b.position.top-h.top)/z)*f("slotMinutes");t!=D&&(j||e(t),D=t)},stop:function(c,d){var f=q.stop();H();i("eventDragStop",b,a,c,d);f&&(y||t||j)?E(this,a,y,j?0:t,j,c,d):(g(),b.css("filter",""),b.css(h),e(0),v(a,b))}})}if(c.isEnd&&m(a)){var I,T,x=O();b.resizable({handles:{s:"div.ui-resizable-s"},grid:x,start:function(c,d){I=T=0;B(a,b);b.css("z-index",9);i("eventResizeStart",
this,a,c,d)},resize:function(c,e){I=Math.round((Math.max(x,b.height())-e.originalSize.height)/x);I!=T&&(d.text(M(a.start,!I&&!a.end?null:F(l(a),f("slotMinutes")*I),f("timeFormat"))),T=I)},stop:function(c,d){i("eventResizeStop",this,a,c,d);I?R(this,a,0,f("slotMinutes")*I,c,d):(b.css("z-index",8),v(a,b))}})}u(a,b)}var d=this;d.renderEvents=function(l,m){g(l);var s,j=l.length,k=[],M=[];for(s=0;s<j;s++)l[s].allDay?k.push(l[s]):M.push(l[s]);f("allDaySlot")&&(t(a(k),m),Q());var j=W(),k=y(),N=n(),q=F(p(d.visStart),
k),z=h.map(M,c),H,C,u,v,B,U;s=[];for(H=0;H<j;H++){u=C=Ga(Fa(M,z,q,F(p(q),N-k)));var K=U=B=v=void 0,L=void 0,E=void 0;for(v=u.length-1;0<v;v--){K=u[v];for(B=0;B<K.length;B++){L=K[B];for(U=0;U<u[v-1].length;U++)E=u[v-1][U],L.end>E.start&&L.start<E.end&&(E.forward=Math.max(E.forward||0,(L.forward||0)+1))}}for(u=0;u<C.length;u++){v=C[u];for(B=0;B<v.length;B++)U=v[B],U.col=H,U.level=u,s.push(U)}r(q,1,!0)}var M=s.length,Z,O,$;C="";N={};q={};H=w();j=W();(u=f("isRTL"))?(v=-1,K=j-1):(v=1,K=0);for(j=0;j<M;j++)k=
s[j],z=k.event,B=D(k.start,k.start),U=D(k.start,k.end),Z=k.col,L=k.level,E=k.forward||0,O=I(Z*v+K),$=A(Z*v+K)-O,$=Math.min($-6,0.95*$),Z=L?$/(L+E+1):E?2*($/(E+1)-6):$,L=O+$/(L+E+1)*L*v+(u?$-Z:0),k.top=B,k.left=L,k.outerWidth=Z,k.outerHeight=U-B,C+=b(z,k);H[0].innerHTML=C;u=H.children();for(j=0;j<M;j++)k=s[j],z=k.event,C=h(u[j]),v=i("eventRender",z,z,C),!1===v?C.remove():(v&&!0!==v&&(C.remove(),C=h(v).css({position:"absolute",top:k.top,left:k.left}).appendTo(H)),k.element=C,z._id===m?e(z,C,k):C[0]._fci=
j,G(z,C));Va(H,s,e);for(j=0;j<M;j++)if(k=s[j],C=k.element)H=N[z=k.key=Za(C[0])],k.vsides=H===x?N[z]=qa(C,!0):H,H=q[z],k.hsides=H===x?q[z]=Ha(C)+Ia(C)+Ja(C):H,z=C.find("div.fc-event-content"),z.length&&(k.contentTop=z[0].offsetTop);for(j=0;j<M;j++)if(k=s[j],C=k.element)C[0].style.width=Math.max(0,k.outerWidth-k.hsides)+"px",N=Math.max(0,k.outerHeight-k.vsides),C[0].style.height=N+"px",z=k.event,k.contentTop!==x&&10>N-k.contentTop&&(C.find("div.fc-event-time").text(T(z.start,f("timeFormat"))+" - "+
z.title),C.find("div.fc-event-title").remove()),i("eventAfterRender",z,z,C)};d.compileDaySegs=a;d.clearEvents=function(){j();q().empty();w().empty()};d.slotSegHtml=b;d.bindDaySeg=function(a,b,c){if(s(a)){var d=c.isStart,e=function(){j||(b.width(g).height("").draggable("option","grid",null),j=!0)},g,h,j=!0,l,z=f("isRTL")?-1:1,t=k(),M=J(),q=O(),D=y();b.draggable({zIndex:9,opacity:f("dragOpacity","month"),revertDuration:f("dragRevertDuration"),start:function(c,k){i("eventDragStart",b,a,c,k);B(a,b);g=
b.width();t.start(function(c,i,g,k){H();c?(h=!1,l=k*z,c.row?d?j&&(b.width(M-10),Wa(b,q*Math.round((a.end?(a.end-a.start)/xb:f("defaultEventMinutes"))/f("slotMinutes"))),b.draggable("option","grid",[M,1]),j=!1):h=!0:(N(r(p(a.start),l),r(sa(a),l)),e()),h=h||j&&!l):(e(),h=!0);b.draggable("option","revert",h)},c,"drag")},stop:function(c,d){t.stop();H();i("eventDragStop",b,a,c,d);if(h)e(),b.css("filter",""),v(a,b);else{var g=0;j||(g=Math.round((b.offset().top-S().offset().top)/q)*f("slotMinutes")+D-(60*
a.start.getHours()+a.start.getMinutes()));E(this,a,l,g,j,c,d)}}})}c.isEnd&&m(a)&&K(a,b,c);u(a,b)};kb.call(d);var f=d.opt,i=d.trigger,s=d.isEventDraggable,m=d.isEventResizable,l=d.eventEnd,g=d.reportEvents,j=d.reportEventClear,u=d.eventElementHandlers,Q=d.setHeight,q=d.getDaySegmentContainer,w=d.getSlotSegmentContainer,k=d.getHoverListener,n=d.getMaxMinute,y=d.getMinMinute,D=d.timePosition,I=d.colContentLeft,A=d.colContentRight,t=d.renderDaySegs,K=d.resizableDayEvent,W=d.getColCnt,J=d.getColWidth,
O=d.getSlotHeight,S=d.getBodyContent,G=d.reportEventElement,v=d.showEvents,B=d.hideEvents,E=d.eventDrop,R=d.eventResize,N=d.renderDayOverlay,H=d.clearOverlays,z=d.calendar,T=z.formatDate,M=z.formatDates}function eb(a,c,b){function e(a,c){var d=n[a];return"object"==typeof d?Ba(d,c||b):d}function d(a,b){return c.trigger.apply(c,[a,b||g].concat(Array.prototype.slice.call(arguments,2),[g]))}function f(a){return ha(a.editable,(a.source||{}).editable,e("editable"))}function i(a){return a.end?p(a.end):j(a)}
function h(a,b,c){var a=k[a._id],d,e=a.length;for(d=0;d<e;d++)if(!b||a[d][0]!=b[0])a[d][c]()}function m(a,b,c,d){for(var c=c||0,e,f=a.length,i=0;i<f;i++)e=a[i],d!==x&&(e.allDay=d),F(r(e.start,b,!0),c),e.end&&(e.end=F(r(e.end,b,!0),c)),u(e,n)}function l(a,b,c){for(var c=c||0,d,e=a.length,f=0;f<e;f++)d=a[f],d.end=F(r(i(d),b,!0),c),u(d,n)}var g=this;g.element=a;g.calendar=c;g.name=b;g.opt=e;g.trigger=d;g.isEventDraggable=function(a){return f(a)&&!e("disableDragging")};g.isEventResizable=function(a){return f(a)&&
!e("disableResizing")};g.reportEvents=function(a){q={};var b,c=a.length,d;for(b=0;b<c;b++)d=a[b],q[d._id]?q[d._id].push(d):q[d._id]=[d]};g.eventEnd=i;g.reportEventElement=function(a,b){w.push(b);k[a._id]?k[a._id].push(b):k[a._id]=[b]};g.reportEventClear=function(){w=[];k={}};g.eventElementHandlers=function(a,b){b.click(function(c){if(!b.hasClass("ui-draggable-dragging")&&!b.hasClass("ui-resizable-resizing"))return d("eventClick",this,a,c)}).hover(function(b){d("eventMouseover",this,a,b)},function(b){d("eventMouseout",
this,a,b)})};g.showEvents=function(a,b){h(a,b,"show")};g.hideEvents=function(a,b){h(a,b,"hide")};g.eventDrop=function(a,b,c,e,f,i,g){var h=b.allDay,j=b._id;m(q[j],c,e,f);d("eventDrop",a,b,c,e,f,function(){m(q[j],-c,-e,h);Q(j)},i,g);Q(j)};g.eventResize=function(a,b,c,e,f,i){var g=b._id;l(q[g],c,e);d("eventResize",a,b,c,e,function(){l(q[g],-c,-e);Q(g)},f,i);Q(g)};var j=g.defaultEventEnd,u=c.normalizeEvent,Q=c.reportEventChange,q={},w=[],k={},n=c.options}function kb(){function a(a){var b=l("isRTL"),
c,d=a.length,e,f,i,g;c=A();var h=c.left,k=c.right,s,m,p,q,r,n="";for(c=0;c<d;c++)e=a[c],f=e.event,g=["fc-event","fc-event-skin","fc-event-hori"],j(f)&&g.push("fc-event-draggable"),b?(e.isStart&&g.push("fc-corner-right"),e.isEnd&&g.push("fc-corner-left"),s=J(e.end.getDay()-1),m=J(e.start.getDay()),p=e.isEnd?t(s):h,q=e.isStart?K(m):k):(e.isStart&&g.push("fc-corner-left"),e.isEnd&&g.push("fc-corner-right"),s=J(e.start.getDay()),m=J(e.end.getDay()-1),p=e.isStart?t(s):h,q=e.isEnd?K(m):k),g=g.concat(f.className),
f.source&&(g=g.concat(f.source.className||[])),i=f.url,r=$a(f,l),n=i?n+("<a href='"+X(i)+"'"):n+"<div",n+=" class='"+g.join(" ")+"' style='position:absolute;z-index:8;left:"+p+"px;"+r+"'><div class='fc-event-inner fc-event-skin'"+(r?" style='"+r+"'":"")+">",!f.allDay&&e.isStart&&(n+="<span class='fc-event-time'>"+X(v(f.start,f.end,l("timeFormat")))+"</span>"),n+="<span class='fc-event-title'>"+X(f.title)+"</span></div>",e.isEnd&&u(f)&&(n+="<div class='ui-resizable-handle ui-resizable-"+(b?"w":"e")+
"'>&nbsp;&nbsp;&nbsp;</div>"),n+="</"+(i?"a":"div")+">",e.left=p,e.outerWidth=q-p,e.startCol=s,e.endCol=m+1;return n}function c(a,b){var c,d=a.length,e,f,i;for(c=0;c<d;c++)e=a[c],f=e.event,i=h(b[c]),f=g("eventRender",f,f,i),!1===f?i.remove():(f&&!0!==f&&(f=h(f).css({position:"absolute",left:e.left}),i.replaceWith(f),i=f),e.element=i)}function b(a){var b,c=a.length,d,e,f,i,g={};for(b=0;b<c;b++)if(d=a[b],e=d.element)f=d.key=Za(e[0]),i=g[f],i===x&&(i=g[f]=Ha(e)+Ia(e)+Ja(e)),d.hsides=i}function e(a){var b,
c=a.length,d,e;for(b=0;b<c;b++)if(d=a[b],e=d.element)e[0].style.width=Math.max(0,d.outerWidth-d.hsides)+"px"}function d(a){var b,c=a.length,d,e,f,i,g={};for(b=0;b<c;b++)if(d=a[b],e=d.element)f=d.key,i=g[f],i===x&&(i=g[f]=Xa(e)),d.outerHeight=e[0].offsetHeight+i}function f(){var a,b=y(),c=[];for(a=0;a<b;a++)c[a]=F(a).find("td:first div.fc-day-content > div");return c}function i(a){var b,c=a.length,d=[];for(b=0;b<c;b++)d[b]=a[b][0].offsetTop;return d}function s(a,b){var c,d=a.length,e,f;for(c=0;c<d;c++)if(e=
a[c],f=e.element)f[0].style.top=b[e.row]+(e.top||0)+"px",e=e.event,g("eventAfterRender",e,e,f)}var m=this;m.renderDaySegs=function(g,h){var j=S(),k=y(),l=D(),m=0,p,n,r,t=g.length,w,u;j[0].innerHTML=a(g);c(g,j.children());n=g.length;for(p=0;p<n;p++)r=g[p],(u=r.element)&&q(r.event,u);n=g.length;var v;for(p=0;p<n;p++)if(r=g[p],u=r.element)v=r.event,v._id===h?G(v,u,r):u[0]._fci=p;Va(j,g,G);b(g);e(g);d(g);j=f();for(p=0;p<k;p++){n=[];for(r=0;r<l;r++)n[r]=0;for(;m<t&&(w=g[m]).row==p;){r=n.slice(w.startCol,
w.endCol);r=Math.max.apply(Math,r);w.top=r;r+=w.outerHeight;for(u=w.startCol;u<w.endCol;u++)n[u]=r;m++}j[p].height(Math.max.apply(Math,n))}s(g,i(j))};m.resizableDayEvent=function(j,q,u){var t=l("isRTL"),v=t?"w":"e",x=q.find("div.ui-resizable-"+v),A=!1;Ka(q);q.mousedown(function(a){a.preventDefault()}).click(function(a){A&&(a.preventDefault(),a.stopImmediatePropagation())});x.mousedown(function(l){function x(a){g("eventResizeStop",this,j,a);h("body").css("cursor","");F.stop();E();C&&n(this,j,C,0,a);
setTimeout(function(){A=!1},0)}if(1==l.which){A=!0;var F=m.getHoverListener(),G=y(),J=D(),I=t?-1:1,K=t?J-1:0,W=q.css("top"),C,Y,X=h.extend({},j),V=R(j.start);aa();h("body").css("cursor",v+"-resize").one("mouseup",x);g("eventResizeStart",this,j,l);F.start(function(g,l){if(g){var m=Math.max(V.row,g.row),n=g.col;1==G&&(m=0);m==V.row&&(n=t?Math.min(V.col,n):Math.max(V.col,n));C=7*m+n*I+K-(7*l.row+l.col*I+K);m=r(Q(j),C,!0);if(C){X.end=m;var n=Y,q=O([X]),x=u.row,y=h("<div/>"),A=S(),D=q.length,F;y[0].innerHTML=
a(q);y=y.children();A.append(y);c(q,y);b(q);e(q);d(q);s(q,i(f()));y=[];for(A=0;A<D;A++)if(F=q[A].element)q[A].row===x&&F.css("top",W),y.push(F[0]);Y=h(y);Y.find("*").css("cursor",v+"-resize");n&&n.remove();k(j)}else Y&&(w(j),Y.remove(),Y=null);E();B(j.start,r(p(m),1))}},l)}})};var l=m.opt,g=m.trigger,j=m.isEventDraggable,u=m.isEventResizable,Q=m.eventEnd,q=m.reportEventElement,w=m.showEvents,k=m.hideEvents,n=m.eventResize,y=m.getRowCnt,D=m.getColCnt,F=m.allDayRow,A=m.allDayBounds,t=m.colContentLeft,
K=m.colContentRight,J=m.dayOfWeekCol,R=m.dateCell,O=m.compileDaySegs,S=m.getDaySegmentContainer,G=m.bindDaySeg,v=m.calendar.formatDates,B=m.renderDayOverlay,E=m.clearOverlays,aa=m.clearSelection}function gb(){function a(a){m&&(m=!1,s(),d("unselect",null,a))}function c(a,b,c,e){m=!0;d("select",null,a,b,c,e)}var b=this;b.select=function(b,d,e){a();d||(d=f(b,e));i(b,d,e);c(b,d,e)};b.unselect=a;b.reportSelection=c;b.daySelectionMousedown=function(d){var f=b.cellDate,j=b.cellIsAllDay,m=b.getHoverListener(),
p=b.reportDayClick;if(1==d.which&&e("selectable")){a(d);var q;m.start(function(a,b){s();a&&j(a)?(q=[f(b),f(a)].sort(Ya),i(q[0],q[1],!0)):q=null},d);h(document).one("mouseup",function(a){m.stop();q&&(+q[0]==+q[1]&&p(q[0],!0,a),c(q[0],q[1],!0,a))})}};var e=b.opt,d=b.trigger,f=b.defaultSelectionEnd,i=b.renderSelection,s=b.clearSelection,m=!1;e("selectable")&&e("unselectAuto")&&h(document).mousedown(function(b){var c=e("unselectCancel");(!c||!h(b.target).parents(c).length)&&a(b)})}function fb(){this.renderOverlay=
function(b,e){var d=c.shift();d||(d=h("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));d[0].parentNode!=e[0]&&d.appendTo(e);a.push(d.css(b).show());return d};this.clearOverlays=function(){for(var b;b=a.shift();)c.push(b.hide().unbind())};var a=[],c=[]}function hb(a){var c,b;this.build=function(){c=[];b=[];a(c,b)};this.cell=function(a,d){var f=c.length,i=b.length,h,m=-1,l=-1;for(h=0;h<f;h++)if(d>=c[h][0]&&d<c[h][1]){m=h;break}for(h=0;h<i;h++)if(a>=b[h][0]&&a<b[h][1]){l=h;break}return 0<=
m&&0<=l?{row:m,col:l}:null};this.rect=function(a,d,f,i,h){h=h.offset();return{top:c[a][0]-h.top,left:b[d][0]-h.left,width:b[i][1]-b[d][0],height:c[f][1]-c[a][0]}}}function ib(a){function c(b){b.pageX===x&&(b.pageX=b.originalEvent.pageX,b.pageY=b.originalEvent.pageY);b=a.cell(b.pageX,b.pageY);if(!b!=!f||b&&(b.row!=f.row||b.col!=f.col))b?(d||(d=b),e(b,d,b.row-d.row,b.col-d.col)):e(b,d),f=b}var b,e,d,f;this.start=function(i,s,m){e=i;d=f=null;a.build();c(s);b=m||"mousemove";h(document).bind(b,c)};this.stop=
function(){h(document).unbind(b,c);return f}}function jb(a){var c=this,b={},e={},d={};c.left=function(c){return e[c]=e[c]===x?(b[c]=b[c]||a(c)).position().left:e[c]};c.right=function(e){return d[e]=d[e]===x?c.left(e)+(b[e]=b[e]||a(e)).width():d[e]};c.clear=function(){b={};e={};d={}}}var ra={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",
week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),buttonText:{prev:"&nbsp;&#9668;&nbsp;",
next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*"},yb={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},
J=h.fullCalendar={version:"1.5.4"},da=J.views={};h.fn.fullCalendar=function(a){if("string"==typeof a){var c=Array.prototype.slice.call(arguments,1),b;this.each(function(){var d=h.data(this,"fullCalendar");d&&h.isFunction(d[a])&&(d=d[a].apply(d,c),b===x&&(b=d),"destroy"==a&&h.removeData(this,"fullCalendar"))});return b!==x?b:this}var e=a.eventSources||[];delete a.eventSources;a.events&&(e.push(a.events),delete a.events);a=h.extend(!0,{},ra,a.isRTL||a.isRTL===x&&ra.isRTL?yb:{},a);this.each(function(b,
c){var i=h(c),s=new mb(i,a,e);i.data("fullCalendar",s);s.render()});return this};J.sourceNormalizers=[];J.sourceFetchers=[];var pb={dataType:"json",cache:!1},qb=1;J.addDays=r;J.cloneDate=p;J.parseDate=Ca;J.parseISO8601=Ua;J.parseTime=Ea;J.formatDate=ea;J.formatDates=Aa;var ub="sun mon tue wed thu fri sat".split(" "),Ta=864E5,rb=36E5,xb=6E4,sb={s:function(a){return a.getSeconds()},ss:function(a){return fa(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return fa(a.getMinutes())},
h:function(a){return a.getHours()%12||12},hh:function(a){return fa(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return fa(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return fa(a.getDate())},ddd:function(a,c){return c.dayNamesShort[a.getDay()]},dddd:function(a,c){return c.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return fa(a.getMonth()+1)},MMM:function(a,c){return c.monthNamesShort[a.getMonth()]},MMMM:function(a,c){return c.monthNames[a.getMonth()]},
yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return 12>a.getHours()?"a":"p"},tt:function(a){return 12>a.getHours()?"am":"pm"},T:function(a){return 12>a.getHours()?"A":"P"},TT:function(a){return 12>a.getHours()?"AM":"PM"},u:function(a){return ea(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();return 10<a&&20>a?"th":["st","nd","rd"][a%10-1]||"th"}};J.applyAll=va;da.month=function(a,c){var b=this;b.render=function(a,c){c&&(za(a,
c),a.setDate(1));var h=p(a,!0);h.setDate(1);var l=za(p(h),1),g=p(h),j=p(l),u=e("firstDay"),x=e("weekends")?0:1;x&&(R(g),R(j,-1,!0));r(g,-((g.getDay()-Math.max(u,x)+7)%7));r(j,(7-j.getDay()+Math.max(u,x))%7);u=Math.round((j-g)/(7*Ta));"fixed"==e("weekMode")&&(r(j,7*(6-u)),u=6);b.title=f(h,e("titleFormat"));b.start=h;b.end=l;b.visStart=g;b.visEnd=j;d(6,u,x?5:7,!0)};Ma.call(b,a,c,"month");var e=b.opt,d=b.renderBasic,f=c.formatDate};da.basicWeek=function(a,c){var b=this;b.render=function(a,c){c&&r(a,
7*c);var h=r(p(a),-((a.getDay()-e("firstDay")+7)%7)),l=r(p(h),7),g=p(h),j=p(l),u=e("weekends");u||(R(g),R(j,-1,!0));b.title=f(g,r(p(j),-1),e("titleFormat"));b.start=h;b.end=l;b.visStart=g;b.visEnd=j;d(1,1,u?7:5,!1)};Ma.call(b,a,c,"basicWeek");var e=b.opt,d=b.renderBasic,f=c.formatDates};da.basicDay=function(a,c){var b=this;b.render=function(a,c){c&&(r(a,c),e("weekends")||R(a,0>c?-1:1));b.title=f(a,e("titleFormat"));b.start=b.visStart=p(a,!0);b.end=b.visEnd=r(p(b.start),1);d(1,1,1,!1)};Ma.call(b,a,
c,"basicDay");var e=b.opt,d=b.renderBasic,f=c.formatDate};h.extend(!0,ra,{weekMode:"fixed"});da.agendaWeek=function(a,c){var b=this;b.render=function(a,c){c&&r(a,7*c);var h=r(p(a),-((a.getDay()-e("firstDay")+7)%7)),l=r(p(h),7),g=p(h),j=p(l),u=e("weekends");u||(R(g),R(j,-1,!0));b.title=f(g,r(p(j),-1),e("titleFormat"));b.start=h;b.end=l;b.visStart=g;b.visEnd=j;d(u?7:5)};lb.call(b,a,c,"agendaWeek");var e=b.opt,d=b.renderAgenda,f=c.formatDates};da.agendaDay=function(a,c){var b=this;b.render=function(a,
c){c&&(r(a,c),e("weekends")||R(a,0>c?-1:1));var h=p(a,!0),l=r(p(h),1);b.title=f(a,e("titleFormat"));b.start=b.visStart=h;b.end=b.visEnd=l;d(1)};lb.call(b,a,c,"agendaDay");var e=b.opt,d=b.renderAgenda,f=c.formatDate};h.extend(!0,ra,{allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24})})(jQuery);